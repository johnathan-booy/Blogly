{% extends 'base.html' %}

{% block title %}
<title>Recent Posts</title>
{% endblock %}

{% block content %}
<div class="mt-3">
    <h1>Recent Posts</h1>
</div>

{% if posts %}
<div>
    {% for post in posts %}
    <div class="mt-5">
        <h3>{{post.title}}</h3>
    </div>

    <div class="mt-3">
        <p>{{post.content}}</p>
    </div>

    {% if post.tags %}
    <div>
        <span class="fw-bold"><small>Tags: </small></span>
        {% for tag in post.tags %}
        <a href="/tags/{{tag.id}}" class="badge rounded-pill btn btn-warning">{{tag.name}}</a>
        {% endfor %}
    </div>
    {% endif %}

    <div class="mt-1">
        <p><small>Posted by <a href="/users/{{post.user_id}}">{{post.user.full_name}}</a> on {{post.timestamp}}</small>
        </p>
    </div>
    {% endfor %}
</div>
{% else %}
<p><i>No posts available</i></p>
{% endif %}
{% endblock %}